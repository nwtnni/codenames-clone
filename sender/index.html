<!DOCTYPE html>
<html>
<head>
	<script
  	src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
  	integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g="
  	crossorigin="anonymous"></script>
	<script type="text/javascript" src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>
</head>
<body>

	<h1 id="debug">TESTING PLZ IGNORE</h1>
	<button is="google-cast-button"></button>

	<script type="text/javascript">

		var appID = "28E04352";
		var namespace = "codenames-clone";
		var session = null;

		if (!chrome.cast || !chrome.cast.isAvailable) {
			setTimeout(initializeCastApi, 1000);
		}

		function initializeCastApi() {
			var request = new chrome.cast.SessionRequest(appID);
			var apiConfig = new chrome.cast.ApiConfig(request, sessionListener, receiverListener);
			chrome.cast.initialize(apiConfig, onInitSuccess, onError);
		}

		function sessionListener(e) {
			session = e;
		}

		function receiverListener(e) {
			if (e === 'available') {
				$("#debug")[0].textContent = "Receiver found!";
			} else {
				$("#debug")[0].textContent = "No receivers.";
			}
		}

		function onInitSuccess() {
			$("#debug")[0].textContent = "Success!";
		}

		function onError(message) {
			$("#debug")[0].textContent = "Error: " + message;
		}

	</script>
</body>
</html>